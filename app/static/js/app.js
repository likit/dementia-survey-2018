var getHospitals = function(viewModel) {
    var data = $.getJSON("/api/hospitals", function(data) {
        $.each(data, function(i, d) {
            viewModel.hospitals.push(d);
        });
    });
}

var ViewModel = function() {
    var self = this;
    self.hospital = ko.observable();
    self.hospitals = ko.observableArray();
    self.surveyorName = ko.observable();
    self.surveyorPosition = ko.observable();
    self.surveyorTel = ko.observable();
    self.surveyorEmail = ko.observable();
    self.surveyDate = ko.observable();
    self.pntFirstName = ko.observable();
    self.pntLastName = ko.observable();
    self.pntPID = ko.observable();
    self.pntAddress = ko.observable();
    self.pntVillage = ko.observable();
    self.pntSubDistrict = ko.observable();
    self.pntDistrict = ko.observable();
    self.pntProvince = ko.observable();
    self.pntGender = ko.observable();
    self.pntAge = ko.observable();
    self.pntDischargedDate = ko.observable();
    self.pntDiagnosis = ko.observable();
    self.pntHasComplications = ko.observable();
    self.pntComplications = ko.observable();
    self.hospitalSize = ko.observable();
    self.pntRtnHospitalSize = ko.observable();
    self.pntRtnDate = ko.observable();
    self.pntRtnTimes = ko.observable();
    self.pntRtnProblem = ko.observable();
    self.pntRtnStayDays = ko.observable();
    self.pntRtnHasComplications = ko.observable();
    self.pntRtnComplications = ko.observable();
    self.pntADLScore = ko.observable();
    self.pntWeight = ko.observable();
    self.pntHasFallen = ko.observable();
    self.pntFallTimes = ko.observable();
    self.pntHurtAt = ko.observable();
    self.majorCarerFirstname = ko.observable();
    self.majorCarerLastname = ko.observable();
    self.majorCarerPID = ko.observable();
    self.majorCarerAddress = ko.observable();
    self.majorCarerVillage = ko.observable();
    self.majorCarerSubDistrict = ko.observable();
    self.majorCarerDistrict = ko.observable();
    self.majorCarerProvince = ko.observable();
    self.majorCarerGender = ko.observable();
    self.majorCarerAge = ko.observable();
    self.majorCarerMarital = ko.observable();
    self.majorCarerReligion = ko.observable();
    self.majorCarerReligionOther = ko.observable();
    self.majorCarerEd = ko.observable();
    self.majorCarerRelation = ko.observable();
    self.majorCarerRelationOther = ko.observable();
    self.majorCarerCareer = ko.observable();
    self.majorCarerCareerOther = ko.observable();
    self.majorCarerIncome = ko.observable();
    self.majorCarerAvgIncome = ko.observable();
    self.majorCarerIncomeProblem = ko.observable();
    self.majorCarerIncomeProblemDetail = ko.observable();
    self.majorCarerHealthProblems = ko.observableArray([]);
    self.majorCarerHealthProblemDetail = ko.observable();
    self.majorCarerTimeDay = ko.observable();
    self.majorCarerTimeMonth = ko.observable();
    self.majorCarerTimeYear = ko.observable();
    self.majorCarerReasons = ko.observableArray([]);
    self.majorCarerReasonsOther = ko.observable();
    self.majorCarerHasBurden = ko.observable();
    self.majorCarerBurden = ko.observable();
    self.majorCarerHasAssistant = ko.observable();
    self.majorCarerNumAssistant = ko.observable();
    self.majorCarerHasTrained = ko.observable();
    self.majorCarerHasExp = ko.observable();
    self.majorCarerExpDuration = ko.observable();

    self.minorCarerFirstname = ko.observable();
    self.minorCarerLastname = ko.observable();
    self.minorCarerPID = ko.observable();
    self.minorCarerAddress = ko.observable();
    self.minorCarerVillage = ko.observable();
    self.minorCarerSubDistrict = ko.observable();
    self.minorCarerDistrict = ko.observable();
    self.minorCarerProvince = ko.observable();
    self.minorCarerGender = ko.observable();
    self.minorCarerAge = ko.observable();
    self.minorCarerMarital = ko.observable();
    self.minorCarerReligion = ko.observable();
    self.minorCarerReligionOther = ko.observable();
    self.minorCarerEd = ko.observable();
    self.minorCarerRelation = ko.observable();
    self.minorCarerRelationOther = ko.observable();
    self.minorCarerCareer = ko.observable();
    self.minorCarerCareerOther = ko.observable();
    self.minorCarerIncome = ko.observable();
    self.minorCarerAvgIncome = ko.observable();
    self.minorCarerIncomeProblem = ko.observable();
    self.minorCarerIncomeProblemDetail = ko.observable();
    self.minorCarerHealthProblems = ko.observableArray([]);
    self.minorCarerHealthProblemDetail = ko.observable();
    self.minorCarerTimeDay = ko.observable();
    self.minorCarerTimeMonth = ko.observable();
    self.minorCarerTimeYear = ko.observable();
    self.minorCarerReasons = ko.observableArray([]);
    self.minorCarerReasonsOther = ko.observable();
    self.minorCarerHasBurden = ko.observable();
    self.minorCarerBurden = ko.observable();
    self.minorCarerHasAssistant = ko.observable();
    self.minorCarerNumAssistant = ko.observable();
    self.minorCarerHasTrained = ko.observable();
    self.minorCarerHasExp = ko.observable();
    self.minorCarerExpDuration = ko.observable();
}
var vm = new ViewModel();
pager.extendWithPage(vm);
ko.applyBindings(vm);

getHospitals(vm);  // fetch a list of hospitals from the server

pager.start();